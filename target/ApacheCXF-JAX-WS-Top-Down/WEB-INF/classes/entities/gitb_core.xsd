<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<xsd:schema xmlns="http://www.gitb.com/core/v1/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" targetNamespace="http://www.gitb.com/core/v1/" elementFormDefault="qualified" version="1.0">
	<xsd:element name="module" type="TestModule"/>
	<!--General Metadata element to describe the metadata of artifacts-->
	<xsd:complexType name="Metadata">
		<xsd:sequence>
			<xsd:element name="name" type="xsd:string"/>
            <xsd:element name="type" type="TestCaseType" minOccurs="0"/>
			<xsd:element name="version" type="xsd:string"/>
			<xsd:element name="authors" type="xsd:string" minOccurs="0"/>
			<xsd:element name="description" type="xsd:string" minOccurs="0"/>
			<xsd:element name="published" type="xsd:string" minOccurs="0"/>
			<xsd:element name="lastModified" type="xsd:string" minOccurs="0"/>
		</xsd:sequence>
	</xsd:complexType>
	<!-- Abstract TestModule definition -->
	<xsd:complexType name="TestModule">
		<xsd:sequence>
			<xsd:element name="metadata" type="Metadata"/>
			<xsd:element name="inputs" type="TypedParameters" minOccurs="0"/>
			<xsd:element name="outputs" type="TypedParameters" minOccurs="0"/>
		</xsd:sequence>
		<xsd:attribute name="id" type="xsd:string"/>
		<xsd:attribute name="uri" type="xsd:string"/>
		<xsd:attribute name="isRemote" type="xsd:boolean" default="true"/>
		<xsd:attribute name="serviceLocation" type="xsd:string" use="optional"/>
	</xsd:complexType>
	<!-- Validation Module Definition-->
	<xsd:complexType name="ValidationModule">
		<xsd:complexContent>
			<xsd:extension base="TestModule">
				<xsd:sequence>
					<xsd:element name="configs" type="ConfigurationParameters" minOccurs="0"/>
				</xsd:sequence>
				<xsd:attribute name="operation" type="xsd:string" use="optional"/>
			</xsd:extension>
		</xsd:complexContent>
	</xsd:complexType>
	<!--List of configuration parameters-->
	<xsd:complexType name="ConfigurationParameters">
		<xsd:sequence>
			<xsd:element name="param" type="Parameter" maxOccurs="unbounded"/>
		</xsd:sequence>
	</xsd:complexType>
	<!--List of typed parameters-->
	<xsd:complexType name="TypedParameters">
		<xsd:sequence>
			<xsd:element name="param" type="TypedParameter" maxOccurs="unbounded"/>
		</xsd:sequence>
	</xsd:complexType>
	<!--Parameter Definition-->
	<xsd:complexType name="Parameter">
		<xsd:simpleContent>
			<xsd:extension base="xsd:string">
				<xsd:attribute name="name" type="xsd:string" use="required"/>
				<xsd:attribute name="use" type="UsageEnumeration" use="optional" default="R"/>
				<xsd:attribute name="kind" type="ConfigurationType" use="optional" default="SIMPLE"/>
				<xsd:attribute name="desc" type="xsd:string" use="optional"/>
			</xsd:extension>
		</xsd:simpleContent>
	</xsd:complexType>
	<!--Typed parameter definition-->
	<xsd:complexType name="TypedParameter">
		<xsd:simpleContent>
			<xsd:extension base="Parameter">
				<xsd:attribute name="type" type="xsd:string" use="required"/>
				<xsd:attribute name="encoding" type="xsd:string" use="optional"/>
			</xsd:extension>
		</xsd:simpleContent>
	</xsd:complexType>
    <!-- Enumeration for test case types-->
    <xsd:simpleType name="TestCaseType">
        <xsd:restriction base="xsd:NMTOKEN">
            <xsd:enumeration value="CONFORMANCE"/>
            <xsd:enumeration value="INTEROPERABILITY"/>
        </xsd:restriction>
    </xsd:simpleType>
	<!-- Enumeration for usage indicator-->
	<xsd:simpleType name="UsageEnumeration">
		<xsd:restriction base="xsd:string">
			<xsd:enumeration value="R"/>
			<xsd:enumeration value="O"/>
		</xsd:restriction>
	</xsd:simpleType>
	<!-- Enumeration for usage indicator-->
	<xsd:simpleType name="ConfigurationType">
		<xsd:restriction base="xsd:string">
			<xsd:enumeration value="SIMPLE"/>
			<xsd:enumeration value="BINARY"/>
			<!-- simple type, i.e. string -->
			<!-- binary type -->
		</xsd:restriction>
	</xsd:simpleType>
	<!--Representation (serialisation) of a GITB value -->
	<xsd:complexType name="URIContent">
		<xsd:sequence>
			<xsd:element name="value" type="xsd:anyURI" minOccurs="1" maxOccurs="1" />
		</xsd:sequence>
		<xsd:attribute name="embeddingMethod" type="ValueEmbeddingEnumeration" use="optional" default="URI"/>
	</xsd:complexType>
	<!-- Enumeration for embedding method for the value -->
	<xsd:simpleType name="ValueEmbeddingEnumeration">
		<xsd:restriction base="xsd:string">
			<xsd:enumeration value="URI"/>
		</xsd:restriction>
	</xsd:simpleType>
<!-- outputFormat -->
	<xsd:complexType name="outputFormat">
		<xsd:sequence>
			<xsd:element name="value" type="outputFormatEnumeration" minOccurs="1" maxOccurs="1" default="XML"/>
		</xsd:sequence>
	</xsd:complexType>
	<!-- Enumeration for output format of the result -->
	<xsd:simpleType name="outputFormatEnumeration">
		<xsd:restriction base="xsd:string">
			<xsd:enumeration value="XML"/>
			<xsd:enumeration value="Table"/>
			<xsd:enumeration value="JSON"/>
			<xsd:enumeration value="TSV"/>
			<xsd:enumeration value="CSV"/>
		</xsd:restriction>
	</xsd:simpleType>
</xsd:schema>
